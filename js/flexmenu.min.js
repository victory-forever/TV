!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function i(){e(window).width()===o&&e(window).height()===t||(e(f).each(function(){e(this).flexMenu({undo:!0}).flexMenu(this.options)}),o=e(window).width(),t=e(window).height())}function n(i){var n,l;n=e("li.flexMenu-viewMore.active"),l=n.not(i),l.removeClass("active").find("> ul").hide()}var l,o=e(window).width(),t=e(window).height(),f=[];e(window).resize(function(){clearTimeout(l),l=setTimeout(function(){i()},200)}),e.fn.flexMenu=function(i){var l,o=e.extend({threshold:2,cutoff:2,linkText:"More",linkTitle:"View More",linkTextAll:"Menu",linkTitleAll:"Open/Close Menu",shouldApply:function(){return!0},showOnHover:!0,popupAbsolute:!0,popupClass:"",undo:!1},i);return this.options=o,l=e.inArray(this,f),l>=0?f.splice(l,1):f.push(this),this.each(function(){function i(e){return Math.ceil(e.offset().top)>=w+v}var l,t,f,u,s,d,p,r=e(this),a=r.find("> li"),h=a.first(),c=a.last(),M=r.find("li").length,w=Math.floor(h.offset().top),v=Math.floor(h.outerHeight(!0)),x=!1;if(i(c)&&M>o.threshold&&!o.undo&&r.is(":visible")&&o.shouldApply()){var T=e('<ul class="flexMenu-popup" style="display:none;'+(o.popupAbsolute?" position: absolute;":"")+'"></ul>');for(T.addClass(o.popupClass),p=M;p>1;p--){if(l=r.find("> li:last-child"),t=i(l),p-1<=o.cutoff){e(r.children().get().reverse()).appendTo(T),x=!0;break}if(!t)break;l.appendTo(T)}x?r.append('<li class="flexMenu-viewMore flexMenu-allInPopup"><a href="#" title="'+o.linkTitleAll+'">'+o.linkTextAll+"</a></li>"):r.append('<li class="flexMenu-viewMore"><a href="#" title="'+o.linkTitle+'">'+o.linkText+"</a></li>"),f=r.find("> li.flexMenu-viewMore"),i(f)&&r.find("> li:nth-last-child(2)").appendTo(T),T.children().each(function(e,i){T.prepend(i)}),f.append(T),u=r.find("> li.flexMenu-viewMore > a"),u.click(function(e){n(f),T.toggle(),f.toggleClass("active"),e.preventDefault()}),o.showOnHover&&"undefined"!=typeof Modernizr&&!Modernizr.touch&&f.hover(function(){T.show(),e(this).addClass("active")},function(){T.hide(),e(this).removeClass("active")})}else if(o.undo&&r.find("ul.flexMenu-popup")){for(d=r.find("ul.flexMenu-popup"),s=d.find("li").length,p=1;p<=s;p++)d.find("> li:first-child").appendTo(r);d.remove(),r.find("> li.flexMenu-viewMore").remove()}})}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZsZXhtZW51Lm1pbi5qcyJdLCJuYW1lcyI6WyJlIiwiZGVmaW5lIiwiYW1kIiwialF1ZXJ5IiwiaSIsIndpbmRvdyIsIndpZHRoIiwibyIsImhlaWdodCIsInQiLCJmIiwiZWFjaCIsInRoaXMiLCJmbGV4TWVudSIsInVuZG8iLCJvcHRpb25zIiwibiIsImwiLCJub3QiLCJyZW1vdmVDbGFzcyIsImZpbmQiLCJoaWRlIiwicmVzaXplIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImZuIiwiZXh0ZW5kIiwidGhyZXNob2xkIiwiY3V0b2ZmIiwibGlua1RleHQiLCJsaW5rVGl0bGUiLCJsaW5rVGV4dEFsbCIsImxpbmtUaXRsZUFsbCIsInNob3VsZEFwcGx5Iiwic2hvd09uSG92ZXIiLCJwb3B1cEFic29sdXRlIiwicG9wdXBDbGFzcyIsImluQXJyYXkiLCJzcGxpY2UiLCJwdXNoIiwiTWF0aCIsImNlaWwiLCJvZmZzZXQiLCJ0b3AiLCJ3IiwidiIsInUiLCJzIiwiZCIsInAiLCJyIiwiYSIsImgiLCJmaXJzdCIsImMiLCJsYXN0IiwiTSIsImxlbmd0aCIsImZsb29yIiwib3V0ZXJIZWlnaHQiLCJ4IiwiaXMiLCJUIiwiYWRkQ2xhc3MiLCJjaGlsZHJlbiIsImdldCIsInJldmVyc2UiLCJhcHBlbmRUbyIsImFwcGVuZCIsInByZXBlbmQiLCJjbGljayIsInRvZ2dsZSIsInRvZ2dsZUNsYXNzIiwicHJldmVudERlZmF1bHQiLCJNb2Rlcm5penIiLCJ0b3VjaCIsImhvdmVyIiwic2hvdyIsInJlbW92ZSJdLCJtYXBwaW5ncyI6IkNBS0MsU0FBU0EsR0FBRyxrQkFBbUJDLFNBQVFBLE9BQU9DLElBQUlELFFBQVEsVUFBVUQsR0FBR0EsRUFBRUcsU0FBUyxTQUFTSCxHQUFHLFFBQVNJLEtBQUlKLEVBQUVLLFFBQVFDLFVBQVVDLEdBQUdQLEVBQUVLLFFBQVFHLFdBQVdDLElBQUlULEVBQUVVLEdBQUdDLEtBQUssV0FBV1gsRUFBRVksTUFBTUMsVUFBVUMs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ZSxPQUFPN0UsRUFBRVksTUFBTW1ELFNBQVMsV0FBVyxXQUFXRCxFQUFFekMsT0FBT3JCLEVBQUVZLE1BQU1PLFlBQVksZ0JBQWlCLElBQUdaLEVBQUVPLE1BQU1vQyxFQUFFOUIsS0FBSyxxQkFBcUIsQ0FBQyxJQUFJNEIsRUFBRUUsRUFBRTlCLEtBQUsscUJBQXFCMkIsRUFBRUMsRUFBRTVCLEtBQUssTUFBTXFDLE9BQU9SLEVBQUUsRUFBRUEsR0FBR0YsRUFBRUUsSUFBSUQsRUFBRTVCLEtBQUssb0JBQW9CK0MsU0FBU2pCLEVBQUdGLEdBQUU4QixTQUFTNUIsRUFBRTlCLEtBQUssMEJBQTBCMEQiLCJmaWxlIjoiZmxleG1lbnUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcdGpRdWVyeS5mbGV4TWVudSAxLjVcclxuXHRodHRwczovL2dpdGh1Yi5jb20vMzUyTWVkaWEvZmxleE1lbnVcclxuXHREZXNjcmlwdGlvbjogSWYgYSBsaXN0IGlzIHRvbyBsb25nIGZvciBhbGwgaXRlbXMgdG8gZml0IG9uIG9uZSBsaW5lLCBkaXNwbGF5IGEgcG9wdXAgbWVudSBpbnN0ZWFkLlxyXG5cdERlcGVuZGVuY2llczogalF1ZXJ5LCBNb2Rlcm5penIgKG9wdGlvbmFsKS4gV2l0aG91dCBNb2Rlcm5penIsIHRoZSBtZW51IGNhbiBvbmx5IGJlIHNob3duIG9uIGNsaWNrIChub3QgaG92ZXIpLiAqL1xyXG5cclxuIWZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wianF1ZXJ5XCJdLGUpOmUoalF1ZXJ5KX0oZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaSgpe2Uod2luZG93KS53aWR0aCgpPT09byYmZSh3aW5kb3cpLmhlaWdodCgpPT09dHx8KGUoZikuZWFjaChmdW5jdGlvbigpe2UodGhpcykuZmxleE1lbnUoe3VuZG86ITB9KS5mbGV4TWVudSh0aGlzLm9wdGlvbnMpfSksbz1lKHdpbmRvdykud2lkdGgoKSx0PWUod2luZG93KS5oZWlnaHQoKSl9ZnVuY3Rpb24gbihpKXt2YXIgbixsO249ZShcImxpLmZsZXhNZW51LXZpZXdNb3JlLmFjdGl2ZVwiKSxsPW4ubm90KGkpLGwucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIikuZmluZChcIj4gdWxcIikuaGlkZSgpfXZhciBsLG89ZSh3aW5kb3cpLndpZHRoKCksdD1lKHdpbmRvdykuaGVpZ2h0KCksZj1bXTtlKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGwpLGw9c2V0VGltZW91dChmdW5jdGlvbigpe2koKX0sMjAwKX0pLGUuZm4uZmxleE1lbnU9ZnVuY3Rpb24oaSl7dmFyIGwsbz1lLmV4dGVuZCh7dGhyZXNob2xkOjIsY3V0b2ZmOjIsbGlua1RleHQ6XCJNb3JlXCIsbGlua1RpdGxlOlwiVmlldyBNb3JlXCIsbGlua1RleHRBbGw6XCJNZW51XCIsbGlua1RpdGxlQWxsOlwiT3Blbi9DbG9zZSBNZW51XCIsc2hvdWxkQXBwbHk6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sc2hvd09uSG92ZXI6ITAscG9wdXBBYnNvbHV0ZTohMCxwb3B1cENsYXNzOlwiXCIsdW5kbzohMX0saSk7cmV0dXJuIHRoaXMub3B0aW9ucz1vLGw9ZS5pbkFycmF5KHRoaXMsZiksbD49MD9mLnNwbGljZShsLDEpOmYucHVzaCh0aGlzKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3JldHVybiBNYXRoLmNlaWwoZS5vZmZzZXQoKS50b3ApPj13K3Z9dmFyIGwsdCxmLHUscyxkLHAscj1lKHRoaXMpLGE9ci5maW5kKFwiPiBsaVwiKSxoPWEuZmlyc3QoKSxjPWEubGFzdCgpLE09ci5maW5kKFwibGlcIikubGVuZ3RoLHc9TWF0aC5mbG9vcihoLm9mZnNldCgpLnRvcCksdj1NYXRoLmZsb29yKGgub3V0ZXJIZWlnaHQoITApKSx4PSExO2lmKGkoYykmJk0+by50aHJlc2hvbGQmJiFvLnVuZG8mJnIuaXMoXCI6dmlzaWJsZVwiKSYmby5zaG91bGRBcHBseSgpKXt2YXIgVD1lKCc8dWwgY2xhc3M9XCJmbGV4TWVudS1wb3B1cFwiIHN0eWxlPVwiZGlzcGxheTpub25lOycrKG8ucG9wdXBBYnNvbHV0ZT9cIiBwb3NpdGlvbjogYWJzb2x1dGU7XCI6XCJcIikrJ1wiPjwvdWw+Jyk7Zm9yKFQuYWRkQ2xhc3Moby5wb3B1cENsYXNzKSxwPU07cD4xO3AtLSl7aWYobD1yLmZpbmQoXCI+IGxpOmxhc3QtY2hpbGRcIiksdD1pKGwpLHAtMTw9by5jdXRvZmYpe2Uoci5jaGlsZHJlbigpLmdldCgpLnJldmVyc2UoKSkuYXBwZW5kVG8oVCkseD0hMDticmVha31pZighdClicmVhaztsLmFwcGVuZFRvKFQpfXg/ci5hcHBlbmQoJzxsaSBjbGFzcz1cImZsZXhNZW51LXZpZXdNb3JlIGZsZXhNZW51LWFsbEluUG9wdXBcIj48YSBocmVmPVwiI1wiIHRpdGxlPVwiJytvLmxpbmtUaXRsZUFsbCsnXCI+JytvLmxpbmtUZXh0QWxsK1wiPC9hPjwvbGk+XCIpOnIuYXBwZW5kKCc8bGkgY2xhc3M9XCJmbGV4TWVudS12aWV3TW9yZVwiPjxhIGhyZWY9XCIjXCIgdGl0bGU9XCInK28ubGlua1RpdGxlKydcIj4nK28ubGlua1RleHQrXCI8L2E+PC9saT5cIiksZj1yLmZpbmQoXCI+IGxpLmZsZXhNZW51LXZpZXdNb3JlXCIpLGkoZikmJnIuZmluZChcIj4gbGk6bnRoLWxhc3QtY2hpbGQoMilcIikuYXBwZW5kVG8oVCksVC5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oZSxpKXtULnByZXBlbmQoaSl9KSxmLmFwcGVuZChUKSx1PXIuZmluZChcIj4gbGkuZmxleE1lbnUtdmlld01vcmUgPiBhXCIpLHUuY2xpY2soZnVuY3Rpb24oZSl7bihmKSxULnRvZ2dsZSgpLGYudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIiksZS5wcmV2ZW50RGVmYXVsdCgpfSksby5zaG93T25Ib3ZlciYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIE1vZGVybml6ciYmIU1vZGVybml6ci50b3VjaCYmZi5ob3ZlcihmdW5jdGlvbigpe1Quc2hvdygpLGUodGhpcykuYWRkQ2xhc3MoXCJhY3RpdmVcIil9LGZ1bmN0aW9uKCl7VC5oaWRlKCksZSh0aGlzKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKX0pfWVsc2UgaWYoby51bmRvJiZyLmZpbmQoXCJ1bC5mbGV4TWVudS1wb3B1cFwiKSl7Zm9yKGQ9ci5maW5kKFwidWwuZmxleE1lbnUtcG9wdXBcIikscz1kLmZpbmQoXCJsaVwiKS5sZW5ndGgscD0xO3A8PXM7cCsrKWQuZmluZChcIj4gbGk6Zmlyc3QtY2hpbGRcIikuYXBwZW5kVG8ocik7ZC5yZW1vdmUoKSxyLmZpbmQoXCI+IGxpLmZsZXhNZW51LXZpZXdNb3JlXCIpLnJlbW92ZSgpfX0pfX0pO1xyXG4iXX0=
